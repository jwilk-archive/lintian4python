lintian4python (0.5.1) UNRELEASED; urgency=low

  * check/scripts:
    + Fix false positive versioned-python-shebang for idle-python2.X packages.

  * checks/documentation:
    + Add tag descriptions for
      rst-source-referenced-by-searchindex.js-does-not-exist and
      rst-source-referenced-by-searchindex.js-is-compressed.

  * tests/scripts.tdesc:
    + New tests.

 -- Jakub Wilk <jwilk@debian.org>  Mon, 18 Jun 2012 12:49:11 +0200

lintian4python (0.5) experimental; urgency=low

  * Summary of tag changes:
    + Added:
      - cannot-parse-sphinx-searchindex.js
      - extension-is-symlink
      - inconsistent-use-of-tabs-and-spaces-in-indentation
      - js-file-referenced-by-search.html-does-not-exist
      - js-file-referenced-by-search.html-is-compressed
      - pyflakes-undefined-name-underscore
      - python-breaks-is-obsolete
      - rst-source-referenced-by-searchindex.js-does-not-exist
      - rst-source-referenced-by-searchindex.js-is-compressed
      - search.html-doesnt-load-search-index
      - search.html-references-nonlocal-js-file
      - search.html-with-invalid-root-url
      - search.html-with-non-local-root-url
      - sphinx-js-incompatible-with-jquery-1.4
      - sphinx-js-incompatible-with-jquery-1.5
      - sphinx-js-with-jinja2-templates
      - static-extension
      - substitution-variable-in-xs-python-version

  * checks/*:
    + Port to Lintian 2.5.9 API.

  * checks/code-analysis:
    + Check for inconsistent use of tabs and spaces in indentation.
    + Fix a typo.

  * checks/documentation:
    + Check for search.html (generated by Sphinx):
      - referencing nonexistent .js (or compressed) files;
      - referencing non-local .js files;
      - failing to load search index;
      - with non-local or invalid root URL;
    + Check for Sphinx .js code:
      - incompatible with recent (1.4, 1.5) jQuery versions;
      - containing (unexpanded) Jinja2 templates;
      - referencing nonexistent rST source files.

  * checks/extensions:
    + Check for static extension modules.
    + Check for extensions that are symlinks (e.g. _eggs.so ->
      _eggs.so.1.0.0).

  * checks/helpers:
    + Check for ${python:Breaks}.
    + Check for substitution variables in XS-Python-Version.

  * checks/imports:
    + Fix a typo.

  * checks/pyflakes:
    + Do not emit pyflakes-undefined-name for "_" (underscore) in private
      modules, as this had too many false positives. Emit an experimental
      pyflakes-undefined-name-underscore instead, but only once per file.

  * data/python/projects*:
    + Refresh.

  * debian/control:
    + Update lintian dependency (2.5.9).
    + Bump dependency on perl to >= 5.10 (needed by checks/documentation).
    + Add dependency on liburi-perl (needed by checks/documentation).
  * debian/rules:
    + Encode version number in the lintian4py script.

  * helpers/code-analysis:
    + Check for inconsistent use of tabs and spaces in indentation.

  * libextra/Lintian/Python.pm:
    + Port to Lintian 2.5.9 API.
    + New function to check if a module is public.

  * lintian4py:
    + Add work-around for bug #677145.
    + Make --version and --print-version output lintian4python version
      (rather than lintian version).
    + Make --debug output include lintian4python version (not only lintian
      version).

  * private/refresh-code-analysis-tags:
    + Produce more useful backtrace if helpers/code-analysis has a syntax
      error.
  * private/refresh-pyflakes-tags:
    + Add artificial pyflakes-undefined-name-underscore.
  * private/update-coverage:
    + Allow tags with "." in name.

  * tests/run-tests:
    + Allow tags with "." in name.
  * tests/*.tdesc:
    + New tests.

 -- Jakub Wilk <jwilk@debian.org>  Sat, 16 Jun 2012 12:33:17 +0200

lintian4python (0.4) experimental; urgency=low

  * Summary of tag changes:
    + Added:
      - debian-pycompat-is-obsolete
      - invalid-python-version-declaration
      - multiple-python-version-declarations
      - typo-in-python-version-declaration
      - x-python-version-instead-of-xs-python-version
      - xs-python-version-instead-of-x-python-version
      - xs-python3-version-instead-of-x-python3-version

  * checks/helpers:
    + Warn against XS-Python-Version (should be: X-Python-Version).
    + Warn against XS-Python3-Version (should be: X-Python3-Version).
    + Warn against X-Python-Version used together with python-support.
    + Check for multiple Python versions declarations (e.g. both
      XS-Python-Version and debian/pyversions).
    + Check for invalid X-Python(3)-Version values.
    + Check for existence of debian/pycompat.
    + Don't emit python-module-but-no-python-depends for development, debug
      and metapackages.
    + Check for misspelled X(S)-Python-Version.

  * data/python/projects*:
    + Refresh.

  * debian/control:
    + Build-depend on libtext-levenshtein-perl and liblist-moreutils-perl
      (needed by checks/helpers).

  * private/update-coverage:
    + New script generating tests/coverage.txt.

  * tests/coverage.txt:
    + New file documenting test coverage.
  * tests/run-tests:
    + Allow running tests against source packages.
  * tests/extensions.tdesc:
    + New tests.
  * tests/helpers.tdesc:
    + New tests.

 -- Jakub Wilk <jwilk@debian.org>  Sat, 09 Jun 2012 13:46:33 +0200

lintian4python (0.3.1) experimental; urgency=low
  
  * checks/bytecompilation:
    + Fix the Abbrev field.
  * checks/code-analysis:
    + Improve error handling.
    + Reduce number of forks by executing the Python helper only twice per
      package.
    + Add ‘unpacked’ to Needs-Info.
  * checks/egg-info:
    + Add ‘unpacked’ to Needs-Info.
  * checks/imports:
    + Add ‘unpacked’ to Needs-Info.
  * checks/pth:
    + Add ‘unpacked’ to Needs-Info.
  * check/pyflakes:
    + Tighten a regex.
    + Reduce number of forks by executing the Python helper only once per
      package.
    + Add ‘unpacked’ to Needs-Info.

  * data/python/exceptions:
    + New file containing names of Python built-in exception names.
  * data/python/projects*:
    + Refresh.

  * debian/source/options:
    + Ignore .hg* and cache directories when generating tarball.

  * helpers/code-analysis:
    + Use data/python/exceptions.
    + Allow checking more than one file at once.
  * helpers/pyflakes:
    + Allow checking more than one file at once.

  * libextra/Lintian/Python.pm:
    + Make classify_python_modules return two arrays instead of a hash.

  * private/refresh-*:
    + Fix typos.
  * private/refresh-exception-names:
    + New script to refresh data/python/exceptions.

 -- Jakub Wilk <jwilk@debian.org>  Sat, 02 Jun 2012 21:45:03 +0200

lintian4python (0.3) experimental; urgency=low

  * Summary of tag changes:
    + Added:
      - assertion-always-true
      - except-shadows-builtin
      - string-exception

  * checks/*:
    + Don't attempt to read non-regular files (directories, pipes etc.).
  * checks/bytecompliation:
    + Use Lintian::Python.
  * checks/code-analysis:
    + Check for assertions that are always true.
    + Check for ‘except’ clauses that shadows built-in exception names.
    + Check for string exceptions.
    + Take over syntax-error tag from the pyflakes check.
  * checks/egg-info:
    + Strip +bN suffix when comparing upstream version with egg-info version.
  * checks/pyflakes:
    + Use Lintian::Python. Check non-public modules, too.
    + Stop emitting syntax-error.
    + Catch all exceptions from compile(). Ignore them, since they are taken
      care of by the code-analysis check.
  * checks/scripts:
    + Emit usr-bin-env-python-shebang also for ‘#!/usr/bin/env python3’
      shebangs.

  * data/python/projects*:
    + Refresh.

  * debian/rules:
    + Install libextra.
  * debian/control:
    + Bump mininum required version of python to 2.6, as it's needed by the
      code-analysis check (for the ast module).
    + Add python3 to Recommends, as it's needed by the code-analysis check.

  * helpers/code-analysis:
    + New helper.
  * helpers/pyflakes:
    + Remove dead code.
    + Set Emacs local variables and vim modelines using the same code snippet
      as in other Python files.

  * libextra/Lintian/Python.pm:
    + New file with code shared between checks.

  * lintian4py{,-info}:
    + Improve error handling.
    + Set LINTIAN_ROOT to an absolute directory.
    + Add libextra to include path.

  * profiles/*/*:
    + Update.
  
  * private/refresh-code-analysis-tags:
    + New script.
  * private/refresh-pyflakes-tags:
    + Don't add syntax-error.

  * tests/*.tdesc:
    + For cases that test bug-fixes, add information about when was the bug
      fixed.
  * tests/code-analysis.tdesc:
    + New tests.
  * tests/pyflakes.tdesc:
    + New tests.
  * tests/run-tests:
    + Export LINTIAN_INTERNAL_TESTSUITE=1. Thanks to Niels Thykier for the
      hint.
    + Unset LINTIAN_PROFILE.
    + Allow running only a subset of tests.
    + Allow tests that trigger more than one tag.
    + Avoid “Fetched 0 B in 0s (0 B/s)” messages when there's nothing to
      download.
    + Do not fail with IOError if a file not in cache is referenced by
      multiple test cases.
    + Display full diff on failure.
    + Allow testing against internal errors.

 -- Jakub Wilk <jwilk@debian.org>  Sun, 27 May 2012 22:49:33 +0200

lintian4python (0.2) experimental; urgency=low

  * data/python/projects*:
    + Refresh.

  * checks/*:
    + Port to lintian 2.5.7 API.
  * checks/bytecompilation:
    + Fix incorrect extra information for missing dependency on python-support
      (update-python-modules).
    + Fix false-positive missing-dependency-on-byte-compilation-helper,
      implying that python-support should depend on itself.
    + Fix false-positive python-module-not-byte-compiled when a package was
      using update-python-modules with -p/--post-install.
  * checks/egg-info:
    + Strip +nmuN suffix when comparing upstream version with egg-info
      version.
  * checks/helpers:
    + Fix description of xb-python-version-is-deprecated.
  * checks/imports:
    + Fix false-positive missing-dependency-for-import when a package uses
      pkg_resources and depends on python-setuptools (but not
      directly on python-pkg-resources).
    + Check also Python 3 code.
  * checks/pyflakes:
    + Downgrade severity of pyflakes-undefined-export to normal (from
      important).
  * checks/scripts:
    + Fix false-positive versioned-python-shebang for pythonX.Y-* packages.

  * debian/control:
    + Update lintian dependency (2.5.7, 2.5.8).
    + Add ${perl:Depends} to Depends.
  * debian/rules:
    + Install vendors/ instead of data/.
    + Run dh_perl.
  * debian/*.lintian-overrides:
    + Update.

  * tests:
    + Add a test suite.

  * vendors/:
    + New directory, replacing data/.

 -- Jakub Wilk <jwilk@debian.org>  Tue, 22 May 2012 21:33:04 +0200

lintian4python (0.1) experimental; urgency=low

  * Summary of tag changes
    + Added:
      - insufficient-dependency-on-byte-compilation-helper
      - missing-dependency-on-byte-compilation-helper
      - pycentral-pkginstall-for-foreign-package
      - pycompile-for-foreign-package
      - python-depends-in-python3-package
      - python-module-not-byte-compiled
      - python3-depends-in-python-package
      - python3-module-but-no-python3-depends

  * checks/*.desc:
    + Shorten check descriptions.
  * checks/bytecompilation:
    + Check for Python modules that are not byte-compiled.
    + Check for pycentral/pycompile calls for a foreign package.
    + Check for missing (or insufficient) dependency on byte-compilation
      helper.
  * checks/helpers:
    + Extend python-provides-considered-harmful to ${python3:Provides}.
    + Check for ${python:Depends} in python3-* packages and ${python:Depends}
      in python-* packages.
    + Check for missing ${python3:Depends} in python3-* packages.
    + Correct descriptions of some tags.

  * data/output:
    + Make it a symlink to /usr/share/lintian/data/output.

 -- Jakub Wilk <jwilk@debian.org>  Thu, 10 May 2012 19:18:04 +0200

lintian4python (0+20120504) experimental; urgency=low

  * Summary of tag changes
    + Added:
      - python-stdeb-boilerplate
      - python3-extension-without-abi-tag
      - strict-versioned-dependency-in-requires.txt

  * checks/egg-info:
    + Extend tag descriptions.
    + Check for strict versioned dependency in requires.txt.
  * checks/extensions:
    + Fix compatibility with Python 3.3.
    + Check for Python 3 extension modules without ABI version tag (PEP-3149).
  * checks/helpers:
    + Check for python-stdeb boilerplate in debian/rules.
    + Check for python-stdeb boilerplate in changelog file.
  * data/python/projects*:
    + Refresh.

  * private/refresh-python-projects:
    + Add “python (>= 2.7)” as a provider of argparse. Thanks to Daniele
      Tricoli for the bug report.

  * checks/*, private/*:
    + Use indirect file handles.

 -- Jakub Wilk <jwilk@debian.org>  Fri, 04 May 2012 23:33:14 +0200

lintian4python (0+20120429) experimental; urgency=low

  * Summary of tag changes
    + Added:
      - versioned-python-shebang
      - usr-bin-env-python-shebang

  * checks/scripts:
    + Check for versioned Python shebangs.
    + Check for /usr/bin/env Python shebangs.

  * data/python/projects*:
    + Refresh.

 -- Jakub Wilk <jwilk@debian.org>  Sun, 29 Apr 2012 13:19:36 +0200

lintian4python (0+20120425) experimental; urgency=low

  * Summary of tag changes:
    + Added:
      - missing-epoch-for-dependency

  * checks/depends:
    + Check for missing epoch in dependencies on python(3)-numpy.

  * data/python/projects*:
    + Refresh.

 -- Jakub Wilk <jwilk@debian.org>  Wed, 25 Apr 2012 00:09:06 +0200

lintian4python (0+20120412) experimental; urgency=low

  * Summary of tag changes:
    + Added:
      - extension-with-soname
      - hardcoded-dependency-on-python-helper
      - python-provides-considered-harmful
      - xb-python-version-is-deprecated
      - xs-python-version-current-is-deprecated

  * checks/extension:
    + Check for extension modules with SONAME.
  * checks/helpers:
    + Check for hard-coded dependency on python-support/python-central.
    + Check for deprecated “XS-Python-Version: current”.
    + Check for deprecated “XB-Python-Version”.
    + Check for “Provides: ${python:Provides}”.

  * data/python/projects*:
    + Refresh.

  * debian/control:
    + Add Vcs-* fields.

 -- Jakub Wilk <jwilk@debian.org>  Thu, 12 Apr 2012 18:07:54 +0200

lintian4python (0+20120325) experimental; urgency=low

  * Summary of tag changes:
    + Added:
      - extension-compiled-for-wrong-version
      - extension-linked-with-libpython

  * checks/extensions:
    + Check for extension modules linked to libpython.
    + Emit extension-uses-old-pyrex-import-type for every affected extension
      module.
  * checks/helpers:
    + Don't emit python-depends-but-no-python-helper for binary packages in
      section “doc” (closes: #664475). Thanks to Scott Kitterman for the bug
      report.
  * checks/pyflakes:
    + Downgrade pyflakes-unused-{import,variable} severities to pedantic.

  * data/python/projects*:
    + Refresh.

 -- Jakub Wilk <jwilk@debian.org>  Sun, 25 Mar 2012 19:18:33 +0200

lintian4python (0+20120317) experimental; urgency=low

  * Initial release (closes: #664019).

  * Summary of tag changes:
    + Added:
      - SOURCES.txt-in-binary-package
      - cannot-parse-python-central-metadata
      - egg-info-version-mismatch
      - extension-uses-old-pyrex-import-type
      - incorrect-team-name
      - incorrect-vcs-field
      - missing-dependency-for-import
      - missing-requires.txt-dependency
      - missing-requires.txt-optional-dependency
      - missing-vcs-field
      - pth-file-modifies-sys.path
      - pyflakes-duplicate-argument
      - pyflakes-import-shadowed-by-loop-var
      - pyflakes-import-star-used
      - pyflakes-late-future-import
      - pyflakes-redefined-function
      - pyflakes-redefined-while-unused
      - pyflakes-undefined-export
      - pyflakes-undefined-local
      - pyflakes-undefined-name
      - pyflakes-unused-import
      - pyflakes-unused-variable
      - python-central-metadata-for-missing-files
      - python-depends-but-no-python-helper
      - python-module-but-no-python-depends
      - syntax-error
      - unknown-optional-project-in-requires.txt
      - unknown-project-in-requires.txt

 -- Jakub Wilk <jwilk@debian.org>  Sat, 17 Mar 2012 22:41:38 +0100
